<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>glyph — Go TUI Framework</title>
<link rel="stylesheet" href="https://use.typekit.net/rgt4idh.css">
<style>
  @font-face {
    font-family: 'Berkeley Mono';
    src: url('BerkeleyMonoVariable.woff2') format('woff2');
    font-weight: 100 900;
    font-display: swap;
  }

  /* ============================================================
     TOKENS
     ============================================================ */
  :root {
    --bg:       #f2f0ec;
    --bg2:      #e6e4de;
    --bg3:      #ffffff;
    --bg-dark:  #131311;
    --bg-dark2: #1a1a18;
    --bg-dark3: #0e0e0c;
    --fg0:  #131311;
    --fg:   #3a3a36;
    --fg2:  #6a6a64;
    --fg3:  #8a8880;
    --fg4:  #b0aba0;
    --rule:    #d4d0c8;
    --rule-dk: #262624;
    --accent:  #c44040;
    --grad:    linear-gradient(135deg, #c44040 0%, #983848 50%, #682850 100%);
    --mono:  'Berkeley Mono', monospace;
    --akz:   'akzidenz-grotesk-next-pro', sans-serif;
    --akz-c: 'akzidenz-grotesk-next-conden', sans-serif;
    --din-r: 'din-2014-rounded-variable', sans-serif;
    --s1: 8px;
    --s2: 16px;
    --s3: 24px;
    --s4: 32px;
    --s5: 48px;
    --s6: 64px;
    --s7: 80px;
    --s8: 120px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }


  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--fg);
    font-family: var(--mono);
    font-size: 13px;
    line-height: 1.7;
    -webkit-font-smoothing: antialiased;
  }

  ::selection { background: var(--fg0); color: var(--bg); }

  @property --angle {
    syntax: '<angle>';
    initial-value: 135deg;
    inherits: false;
  }

  @keyframes spin {
    from { --angle: 135deg; }
    to { --angle: 495deg; }
  }

  @keyframes pulse-thicken {
    0%, 100% { inset: -1px; padding: 1px; border-radius: 7px; }
    12% { inset: -2px; padding: 2px; border-radius: 8px; }
    25% { inset: -1px; padding: 1px; border-radius: 7px; }
  }

  @keyframes pulse-glow {
    0%, 100% { opacity: 0; }
    12% { opacity: 0.45; }
    25% { opacity: 0; }
  }

  @keyframes pulse-glow-dk {
    0%, 100% { opacity: 0; }
    12% { opacity: 0.25; }
    25% { opacity: 0; }
  }

  /* ============================================================
     NAV
     ============================================================ */
  nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s, border-color 0.3s;
    border-bottom: 1px solid transparent;
  }

  .nav-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    max-width: 1060px;
    padding: 0 var(--s5);
  }

  nav.scrolled {
    background: rgba(242, 240, 236, 0.95);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-color: var(--rule);
  }

  nav.in-dark {
    background: rgba(19, 19, 17, 0.95);
    border-color: var(--rule-dk);
  }

  .nav-left {
    display: flex;
    align-items: baseline;
  }

  .nav-brand {
    font-family: var(--din-r);
    font-variation-settings: 'wght' 400;
    font-size: 18px;
    color: var(--fg0);
    text-decoration: none;
    letter-spacing: -0.02em;
    opacity: 0;
    transition: opacity 0.3s;
    pointer-events: none;
  }
  nav.brand-visible .nav-brand {
    opacity: 1;
    pointer-events: auto;
  }

  nav.in-dark .nav-brand { color: #e8e4d8; }

  .nav-section {
    font-family: var(--berk);
    font-size: 11px;
    color: var(--fg3);
    opacity: 0;
    transition: opacity 0.3s;
    margin-left: 10px;
  }
  nav.brand-visible .nav-section { opacity: 1; }
  nav.in-dark .nav-section { color: #555; }

  .nav-links {
    display: flex;
    gap: var(--s3);
    list-style: none;
  }

  .nav-links a {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--fg3);
    text-decoration: none;
    transition: color 0.15s;
  }

  .nav-links a:hover { color: var(--fg0); }
  .nav-links a.active { color: var(--fg0); }
  nav.in-dark .nav-links a { color: #555; }
  nav.in-dark .nav-links a:hover { color: #e8e4d8; }
  nav.in-dark .nav-links a.active { color: #e8e4d8; }

  /* ============================================================
     LAYOUT
     ============================================================ */
  .zone-light { background: var(--bg); color: var(--fg); }
  .zone-dark  { background: var(--bg-dark); color: #c8c4b8; isolation: isolate; }
  .zone-inner { max-width: 1060px; margin: 0 auto; padding: 0 var(--s5); }

  .section-rule {
    height: 1px;
    background: var(--rule-dk);
    max-width: 1060px;
    margin: 0 auto;
  }

  /* ============================================================
     HERO
     ============================================================ */
  .hero {
    min-height: calc(100vh - 300px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    padding: 48px 0 var(--s5);
    isolation: isolate;
  }

  .hero-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.14em;
    color: var(--fg4);
    margin-bottom: var(--s3);
  }

  .hero-title {
    font-family: var(--din-r);
    font-variation-settings: 'wght' 300;
    font-size: 96px;
    color: var(--fg0);
    line-height: 0.9;
    letter-spacing: -0.03em;
    margin-bottom: var(--s4);
  }

  .hero-headline {
    font-size: 16px;
    color: var(--fg0);
    line-height: 1.7;
    max-width: 520px;
    margin-bottom: var(--s1);
  }

  .hero-desc {
    font-size: 14px;
    color: var(--fg2);
    line-height: 1.7;
    max-width: 480px;
    margin-bottom: var(--s4);
  }

  .hero-install {
    display: inline-flex;
    align-items: center;
    gap: var(--s2);
    background: var(--bg-dark);
    color: #c8c4b8;
    padding: 12px 20px;
    font-size: 13px;
    letter-spacing: 0.01em;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.15s;
    position: relative;
  }

  .hero-install:hover { background: #1a1a18; }

  .hero-install::before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: 7px;
    padding: 1px;
    background: conic-gradient(from var(--angle), #c44040, #e85050, #983848, #682850, #e85050, #c44040);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    opacity: 1;
    animation: spin 3s linear infinite;
    transition: inset 0.4s, padding 0.4s, border-radius 0.4s;
    pointer-events: none;
  }

  .hero-install::after {
    content: '';
    position: absolute;
    inset: -8px;
    border-radius: 14px;
    background: conic-gradient(from var(--angle), #c44040, #e85050, #983848, #682850, #e85050, #c44040);
    filter: blur(20px);
    opacity: 0;
    transition: opacity 0.4s;
    pointer-events: none;
    z-index: -1;
  }

  .hero-install:hover::before {
    inset: -2px;
    border-radius: 8px;
    padding: 2px;
  }

  .hero-install:hover::after {
    animation: spin 3s linear infinite;
    opacity: 0.45;
  }

  .zone-dark .hero-install:hover::after {
    opacity: 0.25;
  }

  .hero-install .prompt { color: #555; user-select: none; }

  .hero-install .copied {
    font-size: 11px;
    color: #e8e4d8;
    margin-left: var(--s2);
    opacity: 0;
    transition: opacity 0.15s;
  }

  .hero-install .copied.show { opacity: 1; }

  .zone-dark .hero-install {
    background: var(--bg-dark3);
  }

  .zone-dark .hero-install:hover { background: #111; }

  /* ============================================================
     SECTION HEADERS
     ============================================================ */
  .section-head {
    display: flex;
    align-items: flex-start;
    gap: var(--s4);
    padding: var(--s7) 0 var(--s4);
  }

  .section-num {
    font-family: var(--din-r);
    font-variation-settings: 'wght' 200;
    font-size: 84px;
    line-height: 0.82;
    letter-spacing: -0.04em;
    flex-shrink: 0;
    min-width: 110px;
  }

  .zone-light .section-num { color: var(--bg2); }
  .zone-dark .section-num  { color: #1e1e1c; }

  .section-meta { padding-top: 8px; }

  .section-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--fg4);
    margin-bottom: 4px;
  }

  .zone-dark .section-label { color: #444; }

  .section-title {
    font-family: var(--akz);
    font-weight: 700;
    font-size: 34px;
    color: var(--fg0);
    letter-spacing: -0.02em;
    line-height: 1.1;
  }

  .zone-dark .section-title { color: #e8e4d8; }

  .section-desc {
    font-size: 12px;
    color: var(--fg3);
    line-height: 1.75;
    font-style: italic;
    max-width: 540px;
    margin: var(--s2) 0 var(--s5);
    border-left: 1px solid var(--rule);
    padding-left: 20px;
  }

  .zone-dark .section-desc { color: #666; border-color: var(--rule-dk); }

  /* ============================================================
     CODE BLOCKS
     ============================================================ */
  .code {
    background: var(--bg-dark);
    padding: var(--s3);
    font-family: var(--mono);
    font-size: 12px;
    line-height: 1.8;
    margin: var(--s3) 0;
    overflow-x: auto;
    color: #c8c4b8;
    white-space: pre;
    tab-size: 4;
    border-radius: 8px;
  }

  .zone-dark .code {
    background: var(--bg-dark3);
    border: 1px solid var(--rule-dk);
  }

  .code .kw  { color: #d47080; }
  .code .fn  { color: #eeeee4; }
  .code .str { color: #d4887a; }
  .code .cm  { color: #555; }
  .code .tp  { color: #a088b8; }
  .code .nr  { color: #c488a8; }

  /* ============================================================
     FEATURE CARDS — explanation left, code right
     ============================================================ */
  .features {
    padding-bottom: var(--s7);
  }

  .features-stack {
    display: flex;
    flex-direction: column;
    gap: var(--s1);
  }

  .feature-card {
    display: grid;
    grid-template-columns: 2fr 3fr;
    background: var(--bg-dark3);
    border: 1px solid var(--rule-dk);
    border-radius: 8px;
    overflow: hidden;
  }

  .feature-info {
    padding: var(--s5) var(--s4);
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .feature-title {
    font-family: var(--akz);
    font-weight: 700;
    font-size: 16px;
    color: #e8e4d8;
    margin-bottom: var(--s2);
  }

  .feature-desc {
    font-size: 12px;
    color: #666;
    line-height: 1.7;
  }

  .feature-card .code {
    margin: 0;
    border-radius: 0;
    border: none;
    background: none;
  }

  /* ============================================================
     SHOW GRID — code left, text right
     ============================================================ */
  .show-section {
    padding-bottom: var(--s3);
  }

  .show-grid {
    display: grid;
    grid-template-columns: 3fr 2fr;
    gap: var(--s5);
    align-items: center;
  }

  .show-grid .code {
    margin: 0;
  }

  .show-text p {
    font-size: 13px;
    color: #888;
    line-height: 1.7;
    margin-bottom: var(--s2);
  }

  .show-aside {
    font-size: 12px;
    color: #666;
    line-height: 1.7;
    margin-top: var(--s3);
  }

  /* ============================================================
     BUILD / EXECUTE CALLOUT
     ============================================================ */
  .callout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--s5);
    margin: var(--s5) 0;
    padding: var(--s3) 0 0;
  }

  .callout-phase {
    display: flex;
    flex-direction: column;
  }

  .callout-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #555;
    margin-bottom: 4px;
  }

  .callout-title {
    font-family: var(--akz);
    font-weight: 700;
    font-size: 18px;
    color: #e8e4d8;
    margin-bottom: var(--s1);
  }

  .callout-body {
    font-size: 12px;
    color: #777;
    line-height: 1.7;
  }

  .callout-body code {
    font-family: var(--mono);
    color: #999;
  }

  /* ============================================================
     BATTERIES INCLUDED
     ============================================================ */
  .batteries {
    padding-bottom: var(--s7);
  }

  .batteries-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2px;
    margin-top: var(--s3);
  }

  .battery {
    background: var(--bg3);
    padding: var(--s3);
  }

  .zone-dark .battery { background: var(--bg-dark2); }

  .battery-label {
    font-family: var(--akz);
    font-weight: 700;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--fg4);
    margin-bottom: 8px;
  }

  .zone-dark .battery-label { color: #444; }

  .battery-items {
    display: flex;
    flex-wrap: wrap;
    gap: 4px 12px;
    font-size: 12px;
    color: var(--fg2);
    line-height: 1.6;
  }

  .zone-dark .battery-items { color: #777; }

  .battery-items a {
    color: var(--fg2);
    text-decoration: none;
    transition: color 0.15s;
  }

  .battery-items a:hover { color: var(--fg0); }

  .zone-dark .battery-items a { color: #777; }
  .zone-dark .battery-items a:hover { color: #e8e4d8; }

  /* ============================================================
     START LINKS
     ============================================================ */
  .start-links {
    display: flex;
    gap: var(--s5);
    padding: var(--s4) 0 var(--s7);
  }

  .start-links a {
    font-size: 12px;
    color: #c8c4b8;
    text-decoration: none;
    border-bottom: 1px solid #333;
    padding-bottom: 2px;
    transition: border-color 0.15s;
  }

  .start-links a:hover { border-color: #c8c4b8; }

  .zone-light .start-links { padding-bottom: 0; }
  .zone-light .start-links a { color: var(--fg2); border-color: var(--rule); }
  .zone-light .start-links a:hover { color: var(--fg0); border-color: var(--fg0); }

  /* ============================================================
     FOOTER
     ============================================================ */
  footer {
    padding: var(--s7) 0 var(--s5);
    border-top: 1px solid var(--rule-dk);
    text-align: center;
  }

  .footer-brand {
    font-family: var(--din-r);
    font-variation-settings: 'wght' 400;
    font-size: 18px;
    color: #c8c4b8;
    letter-spacing: -0.02em;
    margin-bottom: var(--s2);
  }

  .footer-links {
    display: flex;
    justify-content: center;
    gap: var(--s3);
    font-family: var(--mono);
    font-weight: 700;
    font-size: 9px;
    text-transform: uppercase;
    letter-spacing: 0.06em;
  }

  .footer-links a {
    color: #444;
    text-decoration: none;
    transition: color 0.2s;
  }

  .footer-links a:hover { color: #c8c4b8; }

  @media (max-width: 1024px) {
    .code { font-stretch: 87%; }
    .batteries-grid { grid-template-columns: repeat(2, 1fr); }
  }

  @media (max-width: 768px) {
    .nav-inner { padding: 0 var(--s3); }
    .zone-inner { padding: 0 var(--s3); }
    .hero { min-height: calc(100vh - 200px); padding: 48px 0 var(--s4); }
    .hero-title { font-size: 64px; }
    .hero-install { font-size: 11px; padding: 10px 14px; max-width: 100%; }
    .code { font-size: 11px; max-width: 100%; }
    .section-head { flex-direction: column; gap: var(--s2); }
    .section-num { font-size: 48px; min-width: auto; }
    .show-grid { grid-template-columns: 1fr; }
    .feature-card { grid-template-columns: 1fr; }
    .callout { grid-template-columns: 1fr; gap: var(--s4); }
    .batteries-grid { grid-template-columns: 1fr; }
    .start-links { flex-direction: column; gap: var(--s2); }
    .hero-install::before { animation: pulse-thicken 8s ease-in-out infinite, spin 3s linear infinite; }
    .zone-light .hero-install::after { animation: pulse-glow 8s ease-in-out infinite, spin 3s linear infinite; }
    .zone-dark .hero-install::after { animation: pulse-glow-dk 8s ease-in-out infinite, spin 3s linear infinite; }
    .hero { overflow: hidden; }
  }

  /* gradient accent */
  .zone-dark .callout-label {
    background: var(--grad);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

</style>
</head>
<body>

<!-- ============================================================
     NAV
     ============================================================ -->
<nav id="nav">
  <div class="nav-inner">
    <div class="nav-left">
      <a href="#" class="nav-brand">glyph</a>
      <span class="nav-section" id="nav-section"></span>
    </div>
    <ul class="nav-links">
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="concepts.html">Concepts</a></li>
      <li><a href="api.html">API</a></li>

      <li><a href="https://github.com/kungfusheep/glyph">GitHub</a></li>
    </ul>
  </div>
</nav>

<!-- ============================================================
     HERO (light)
     ============================================================ -->
<div class="zone-light">
  <div class="zone-inner">
    <div class="hero">
      <div class="hero-label">Go TUI Framework</div>
      <div class="hero-title">glyph</div>
      <div class="hero-headline">Batteries-included terminal apps in Go.</div>
      <div class="hero-desc">
        Declarative composition with a compile-once rendering model. Keyboard-first. Fast.      </div>
      <div class="hero-install" onclick="copyInstall(this)">
        <span class="prompt">$</span>
        go get github.com/kungfusheep/glyph@latest
        <span class="copied">copied</span>
      </div>
      <div class="start-links">
        <a href="concepts.html">Read the concepts &rarr;</a>
        <a href="api.html">Browse the API &rarr;</a>
        <iframe src="https://ghbtns.com/github-btn.html?user=kungfusheep&repo=glyph&type=star&count=false" frameborder="0" scrolling="0" width="70" height="20" title="GitHub Stars" style="vertical-align: middle;"></iframe>
      </div>
    </div>
  </div>
</div>

<!-- ============================================================
     DARK ZONE — everything below the hero
     ============================================================ -->
<div class="zone-dark" id="start">

  <!-- 01 — FIRST APP -->
  <div class="zone-inner">
    <div class="show-section">
      <div class="section-head">
        <div class="section-num">01</div>
        <div class="section-meta">
          <div class="section-label">Getting Started</div>
          <div class="section-title">First App</div>
        </div>
      </div>

      <div class="show-grid">
        <div class="code code-raw">package main

import . "github.com/kungfusheep/glyph"

func main() {
	app, _ := NewApp()
	count := 0

	app.SetView(
		VBox(
			Text(&count),
			Text("↑/↓ to count, q to quit"),
		),
	)

	app.Handle("up", func() { count++ })
	app.Handle("down", func() { count-- })
	app.Handle("q", app.Stop)
	app.Run()
}</div>
        <div class="show-text">
          <div class="show-aside">
            A glyph app is a tree of plain functions. VBox stacks its children, Text renders a value. Pass a pointer and the display stays in sync. Wire up key handlers, call Run, done.
          </div>
        </div>
      </div>

      <div class="callout">
        <div class="callout-phase">
          <div class="callout-label">Once</div>
          <div class="callout-title">Build</div>
          <div class="callout-body">
            When you call <code>SetView()</code>, the declarative tree is compiled into
            a flat array of operations. All reflection, type switches, and allocation
            happen here. The composable API surface &mdash;
            <code>VBox.Gap(2).Border(...)</code> &mdash; is purely a build-time convenience.
          </div>
        </div>
        <div class="callout-phase">
          <div class="callout-label">Each update</div>
          <div class="callout-title">Execute</div>
          <div class="callout-body">
            Rendering walks the compiled ops and dereferences pointers to read current
            state. No tree rebuilds, no diffing, no allocation. Just pointer reads into
            a cell buffer, then a diff-based flush to the terminal.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section-rule"></div>

  <!-- 02 — SHOWCASE -->
  <div class="zone-inner">
    <div class="features">
      <div class="section-head">
        <div class="section-num">02</div>
        <div class="section-meta">
          <div class="section-label">Examples</div>
          <div class="section-title">In Practice</div>
        </div>
      </div>

      <div class="features-stack">
        <div class="feature-card">
          <div class="feature-info">
            <div class="feature-title">File browser</div>
            <div class="feature-desc">
              Split pane with list navigation and live preview.
              OnSelect loads the file, TextView renders it.
            </div>
          </div>
          <div class="code code-raw">HBox(
	VBox.Grow(1).Border(BorderRounded)(
		List(&files).BindVimNav().OnSelect(func(f *string) {
			data, _ := os.ReadFile(*f)
			preview = string(data)
		}),
	),
	VBox.Grow(2).Border(BorderRounded)(
		TextView(&preview).Grow(1),
	),
)</div>
        </div>

        <div class="feature-card">
          <div class="feature-info">
            <div class="feature-title">Process monitor</div>
            <div class="feature-desc">
              Progress bars for system metrics, sortable table
              for processes. AutoTable infers columns from struct fields.
            </div>
          </div>
          <div class="code code-raw">VBox(
	HBox.Gap(4)(
		Text("CPU"), Progress(&cpuPct).Width(30),
		Text("Mem"), Progress(&memPct).Width(30),
	),
	AutoTable(&procs).Sortable().Scrollable(20).BindVimNav(),
)</div>
        </div>

        <div class="feature-card">
          <div class="feature-info">
            <div class="feature-title">Deploy log</div>
            <div class="feature-desc">
              Spinner, status text, and progress in a single row.
              Log streams output live. If shows the result when done.
            </div>
          </div>
          <div class="code code-raw">VBox.Border(BorderRounded).Title("deploy")(
	HBox.Gap(2)(
		Spinner(&frame).FG(Cyan),
		Text(&status).Bold(),
		Progress(&pct).Width(20),
	),
	Log(output).Grow(1).MaxLines(500),
	If(&done).Then(Text(&result).Bold().FG(Green)),
)</div>
        </div>

        <div class="feature-card">
          <div class="feature-info">
            <div class="feature-title">Fuzzy finder</div>
            <div class="feature-desc">
              FilterList handles the search input and matching.
              Custom Render for each row, border and title for framing.
            </div>
          </div>
          <div class="code code-raw">FilterList(&packages, func(p *Pkg) string { return p.Name }).
	Render(func(p *Pkg) any {
		return HBox.Gap(2)(
			Text(&p.Name).Bold(),
			Text(&p.Desc).FG(BrightBlack),
		)
	}).MaxVisible(15).Border(BorderRounded).Title("packages")</div>
        </div>

        <div class="feature-card">
          <div class="feature-info">
            <div class="feature-title">Live dashboard</div>
            <div class="feature-desc">
              Two sparkline panels side by side with a scrolling
              event log below. Update the slices, the view follows.
            </div>
          </div>
          <div class="code code-raw">VBox(
	HBox.Gap(1)(
		VBox.Grow(1).Border(BorderRounded).Title("requests/s")(
			Sparkline(&reqData).FG(Green),
			Text(&reqRate).FG(BrightBlack),
		),
		VBox.Grow(1).Border(BorderRounded).Title("p99 latency")(
			Sparkline(&latData).FG(Yellow),
			Text(&p99).FG(BrightBlack),
		),
	),
	Log(events).Grow(1).MaxLines(200),
)</div>
        </div>

        <div class="feature-card">
          <div class="feature-info">
            <div class="feature-title">Registration form</div>
            <div class="feature-desc">
              Form auto-aligns labels, manages focus, and wires
              validation. Errors appear when you configure them to.
            </div>
          </div>
          <div class="code code-raw">Form.LabelBold().OnSubmit(register)(
	Field("Name", Input(&name).Validate(VRequired, VOnBlur)),
	Field("Email", Input(&email).Validate(VEmail, VOnBlur)),
	Field("Role", Radio(&role, "Admin", "User", "Guest")),
	Field("Terms", Checkbox(&agree, "I accept").Validate(VTrue, VOnSubmit)),
)</div>
        </div>
      </div>
    </div>
  </div>

  <div class="section-rule"></div>

  <!-- 03 — BATTERIES INCLUDED -->
  <div class="zone-inner">
    <div class="batteries">
      <div class="section-head">
        <div class="section-num">03</div>
        <div class="section-meta">
          <div class="section-label">What you get</div>
          <div class="section-title">Batteries Included</div>
        </div>
      </div>

      <div class="batteries-grid">
        <div class="battery">
          <div class="battery-label">Layout</div>
          <div class="battery-items">
            <a href="api.html#VBox">VBox</a>
            <a href="api.html#HBox">HBox</a>
            <a href="api.html#Overlay">Overlay</a>
            <a href="api.html#Flex">Grow</a>
            <a href="api.html#Spacer">Spacer</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Input & Forms</div>
          <div class="battery-items">
            <a href="api.html#Input">Input</a>
            <a href="api.html#Checkbox">Checkbox</a>
            <a href="api.html#Radio">Radio</a>
            <a href="api.html#Form">Form</a>
            <a href="api.html#Form">Validation</a>
            <a href="api.html#FilterList">FilterList</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Lists & Data</div>
          <div class="battery-items">
            <a href="api.html#List">List</a>
            <a href="api.html#CheckList">CheckList</a>
            <a href="api.html#AutoTable">AutoTable</a>
            <a href="api.html#Tabs">Tabs</a>
            <a href="api.html#TreeView">TreeView</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Visualisation</div>
          <div class="battery-items">
            <a href="api.html#Progress">Progress</a>
            <a href="api.html#Sparkline">Sparkline</a>
            <a href="api.html#Leader">Leader</a>
            <a href="api.html#Spinner">Spinner</a>
            <a href="api.html#Scroll">Scrollbar</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Text & Streaming</div>
          <div class="battery-items">
            <a href="api.html#Rich">Rich Spans</a>
            <a href="api.html#Log">Log</a>
            <a href="api.html#FilterLog">FilterLog</a>
            <a href="api.html#Log">TextView</a>
            <a href="api.html#FzfQuery">fzf Syntax</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Navigation</div>
          <div class="battery-items">
            <a href="api.html#App">Vim Keys</a>
            <a href="api.html#Jump">Jump Labels</a>
            <a href="api.html#FocusManager">Focus Manager</a>
            <a href="api.html#App">Routing</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Styling</div>
          <div class="battery-items">
            <a href="api.html#BorderStyle">Borders</a>
            <a href="api.html#Theme">Themes</a>
            <a href="api.html#Color">True Colour</a>
            <a href="api.html#Style">Cascade Styles</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Control Flow</div>
          <div class="battery-items">
            <a href="api.html#If">If / IfOrd</a>
            <a href="api.html#Switch">Switch</a>
            <a href="api.html#ForEach">ForEach</a>
          </div>
        </div>
        <div class="battery">
          <div class="battery-label">Rendering</div>
          <div class="battery-items">
            <a href="api.html#Buffer">Double Buffer</a>
            <a href="api.html#Screen">Diff Flush</a>
            <a href="api.html#App">Inline Mode</a>
            <a href="api.html#LayerView">Layers</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section-rule"></div>

  <!-- 04 — GET STARTED -->
  <div class="zone-inner">
    <div class="section-head">
      <div class="section-num">04</div>
      <div class="section-meta">
        <div class="section-label">Install</div>
        <div class="section-title">Get Started</div>
      </div>
    </div>

    <div class="hero-install" onclick="copyInstall(this)">
      <span class="prompt">$</span>
      go get github.com/kungfusheep/glyph@latest
      <span class="copied">copied</span>
    </div>

    <div class="start-links">
      <a href="concepts.html">Read the concepts &rarr;</a>
      <a href="api.html">Browse the API &rarr;</a>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="zone-inner">
    <footer>
      <div class="footer-brand">glyph</div>
      <div class="footer-links">
        <a href="index.html">Home</a>
        <a href="api.html">API</a>
        <a href="concepts.html">Concepts</a>
        <a href="https://github.com/kungfusheep/glyph">Source</a>
      </div>
    </footer>
  </div>

</div>

<!-- ============================================================
     JAVASCRIPT
     ============================================================ -->
<script>
// nav scroll behavior
const navEl = document.getElementById('nav');
const darkZone = document.getElementById('start');
const heroTitle = document.querySelector('.hero-title');

function updateNav() {
  const scrollY = window.scrollY;
  const heroBottom = heroTitle.offsetTop + heroTitle.offsetHeight;

  if (scrollY > 20) {
    navEl.classList.add('scrolled');
  } else {
    navEl.classList.remove('scrolled');
  }

  if (scrollY >= heroBottom) {
    navEl.classList.add('brand-visible');
  } else {
    navEl.classList.remove('brand-visible');
  }

  if (darkZone) {
    const darkTop = darkZone.offsetTop - 48;
    if (scrollY >= darkTop) {
      navEl.classList.add('in-dark');
    } else {
      navEl.classList.remove('in-dark');
    }
  }
}

window.addEventListener('scroll', updateNav, { passive: true });
updateNav();

// section indicator in nav
(function() {
  const navSection = document.getElementById('nav-section');
  const sections = document.querySelectorAll('.section-head');
  if (!sections.length || !navSection) return;

  // build ordered list of section tops + labels
  const entries = [];
  sections.forEach(head => {
    const num = head.querySelector('.section-num');
    const label = head.querySelector('.section-label');
    if (num && label) {
      entries.push({ el: head, num: num.textContent.trim(), label: label.textContent.trim() });
    }
  });

  function updateSection() {
    const scrollY = window.scrollY + 96; // offset for nav + margin
    let current = null;
    for (let i = entries.length - 1; i >= 0; i--) {
      if (scrollY >= entries[i].el.offsetTop) {
        current = entries[i];
        break;
      }
    }
    navSection.textContent = current ? current.label : '';
  }

  window.addEventListener('scroll', updateSection, { passive: true });
  updateSection();
})();

// highlight static code blocks
function esc(s) {
  const d = document.createElement('div');
  d.textContent = s;
  return d.innerHTML;
}

function highlightGo(raw) {
  const s = esc(raw);
  const tokens = [];
  let i = 0;
  while (i < s.length) {
    if (s[i] === '"' || s[i] === '`') {
      const q = s[i];
      let j = i + 1;
      while (j < s.length && s[j] !== q) { if (s[j] === '\\' && q === '"') j++; j++; }
      tokens.push({ type: 'str', text: s.slice(i, j + 1) });
      i = j + 1;
    } else if (s.slice(i, i + 4) === '&amp' || s.slice(i, i + 3) === '&lt' || s.slice(i, i + 3) === '&gt') {
      let j = s.indexOf(';', i);
      if (j === -1) j = i;
      tokens.push({ type: 'text', text: s.slice(i, j + 1) });
      i = j + 1;
    } else if (s.slice(i, i + 2) === '//') {
      let j = s.indexOf('\n', i);
      if (j === -1) j = s.length;
      tokens.push({ type: 'cm', text: s.slice(i, j) });
      i = j;
    } else if (/[a-zA-Z_]/.test(s[i])) {
      let j = i;
      while (j < s.length && /[a-zA-Z0-9_]/.test(s[j])) j++;
      tokens.push({ type: 'word', text: s.slice(i, j) });
      i = j;
    } else if (/[0-9]/.test(s[i])) {
      let j = i;
      while (j < s.length && /[0-9.x]/.test(s[j])) j++;
      tokens.push({ type: 'nr', text: s.slice(i, j) });
      i = j;
    } else {
      tokens.push({ type: 'text', text: s[i] });
      i++;
    }
  }

  const kws = new Set(['package','import','func','return','var','const','type','struct',
    'interface','if','else','for','range','switch','case','default','break','continue',
    'go','defer','select','chan','map','true','false','nil','any','error']);
  const types = new Set(['string','int','int8','int16','int32','int64',
    'uint','uint8','uint16','uint32','uint64','float32','float64','bool','byte','rune']);

  return tokens.map((t, idx) => {
    if (t.type === 'str') return `<span class="str">${t.text}</span>`;
    if (t.type === 'cm') return `<span class="cm">${t.text}</span>`;
    if (t.type === 'nr') return `<span class="nr">${t.text}</span>`;
    if (t.type === 'word') {
      if (kws.has(t.text)) return `<span class="kw">${t.text}</span>`;
      if (types.has(t.text)) return `<span class="tp">${t.text}</span>`;
      const next = tokens[idx + 1];
      if (next && (next.text === '(' || next.text === '.')) return `<span class="fn">${t.text}</span>`;
      const prev = tokens[idx - 1];
      if (prev && prev.text === '.') return `<span class="fn">${t.text}</span>`;
    }
    return t.text;
  }).join('');
}

// click-to-copy install command
function copyInstall(el) {
  const cmd = 'go get github.com/kungfusheep/glyph@latest';
  navigator.clipboard.writeText(cmd).then(() => {
    const badge = el.querySelector('.copied');
    badge.classList.add('show');
    setTimeout(() => badge.classList.remove('show'), 1500);
  });
}

document.querySelectorAll('.code-raw').forEach(el => {
  el.innerHTML = highlightGo(el.textContent);
  el.classList.remove('code-raw');
});
</script>
</body>
</html>
